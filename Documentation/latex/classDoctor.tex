\hypertarget{classDoctor}{\section{Doctor Class Reference}
\label{classDoctor}\index{Doctor@{Doctor}}
}


Class for the \hyperlink{classDoctor}{Doctor} nodes.  




{\ttfamily \#include $<$Doctor.\-h$>$}

Inheritance diagram for Doctor\-:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{classDoctor}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{classDoctor_a92b20f52198c6137d8858152cba77640}{Stage\-Odom\-\_\-callback} (nav\-\_\-msgs\-::\-Odometry msg)
\begin{DoxyCompactList}\small\item\em Updates the \hyperlink{classDoctor}{Doctor}'s x position, y position, and angle to reflect its current pose. \end{DoxyCompactList}\item 
void \hyperlink{classDoctor_ab0b46ba92bd2069733f304858b7e4495}{Stage\-Laser\-\_\-callback} (sensor\-\_\-msgs\-::\-Laser\-Scan msg)
\begin{DoxyCompactList}\small\item\em Callback function to process laser scan messsages. You can access the range data from msg.\-ranges\mbox{[}i\mbox{]}. i = sample number. \end{DoxyCompactList}\item 
\hypertarget{classDoctor_ac7ddd6ea1ee23cd67e8badcc29d2d7cd}{int \hyperlink{classDoctor_ac7ddd6ea1ee23cd67e8badcc29d2d7cd}{run} (int argc, char $\ast$argv\mbox{[}$\,$\mbox{]})}\label{classDoctor_ac7ddd6ea1ee23cd67e8badcc29d2d7cd}

\begin{DoxyCompactList}\small\item\em Main function for the \hyperlink{classDoctor}{Doctor} process. Controls node setup and periodic events. \end{DoxyCompactList}\item 
double \hyperlink{classDoctor_a55fe6c06a3ce07fd9014a03000df43db}{calc\-\_\-goal\-\_\-angle} (double \hyperlink{classDoctor_ae058c3d6dce31d71ac4e63e3fd653275}{goal\-\_\-x}, double \hyperlink{classDoctor_aba0c1163551f144834fc0d68c556fac2}{goal\-\_\-y}, double \hyperlink{classDoctor_ab67e7a3eab1a57a0cfa52d84fe52414d}{cur\-\_\-angle}, double \hyperlink{classDoctor_a6ea729b1a8fc6d33176d768ef62b0a43}{px}, double \hyperlink{classDoctor_a04b4b5bddd2b99b6eb4b7b8813eeeebf}{py})
\begin{DoxyCompactList}\small\item\em Given the agent's current angle, this function calculates the angle to the goal. cur\-\_\-angle, goal\-\_\-x, goal\-\_\-y, px, and py are class fields but are also passed as parameters. \end{DoxyCompactList}\item 
std\-::pair$<$ double, double $>$ \hyperlink{classDoctor_ada60bb6625be46966ff86f7af9d05366}{move} (double \hyperlink{classDoctor_ae058c3d6dce31d71ac4e63e3fd653275}{goal\-\_\-x}, double \hyperlink{classDoctor_aba0c1163551f144834fc0d68c556fac2}{goal\-\_\-y}, double \hyperlink{classDoctor_ab67e7a3eab1a57a0cfa52d84fe52414d}{cur\-\_\-angle}, double \hyperlink{classDoctor_a27377808d49670322af2ce4ec34730f1}{goal\-\_\-angle}, double \hyperlink{classDoctor_a6ea729b1a8fc6d33176d768ef62b0a43}{px}, double \hyperlink{classDoctor_a04b4b5bddd2b99b6eb4b7b8813eeeebf}{py})
\begin{DoxyCompactList}\small\item\em Keeps the agent moving by changing linear\-\_\-x ad angular\-\_\-z. \end{DoxyCompactList}\item 
\hypertarget{classDoctor_a21ac6188dd7f5890ff1a633cf700144d}{void {\bfseries random\-Checkpoint\-Callback} (const ros\-::\-Timer\-Event \&)}\label{classDoctor_a21ac6188dd7f5890ff1a633cf700144d}

\item 
std\-::pair$<$ double, double $>$ \hyperlink{classDoctor_a958cbab204ba7da1aeb34c33e028dc14}{move\-Path} (int path\mbox{[}$\,$\mbox{]}\mbox{[}2\mbox{]}, int path\-Length)
\begin{DoxyCompactList}\small\item\em Causes the agent to move until the goal is reached. When the goal is reached, the next checkpoint becomes the goal or if the list of checkpoints is exhausted, the agent returns to its initial position (the first checkpoint) \end{DoxyCompactList}\item 
void \hyperlink{classDoctor_af4d24247a3f59b1b3b5258938e019086}{resident\-Status\-Callback} (\hyperlink{structse306__project1_1_1ResidentMsg__}{se306\-\_\-project1\-::\-Resident\-Msg} msg)
\begin{DoxyCompactList}\small\item\em Callback function that unpacks and processes resident status messages. \hyperlink{classAssistant}{Assistant} should subscribe to the Resident\-Msg topic in order for this callback to be called. Resident\-Msg is published by the \hyperlink{classResident}{Resident}. \end{DoxyCompactList}\item 
\hypertarget{classDoctor_a26ae14986239ea67147a52235685e31e}{void {\bfseries medication\-Callback} (const ros\-::\-Timer\-Event \&)}\label{classDoctor_a26ae14986239ea67147a52235685e31e}

\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{classDoctor_adab6ec6a93ee2f58b436a8294120f295}{heal\-Resident}
\item 
int \hyperlink{classDoctor_ab1814310e306e7a742ffa9c5c6b913ef}{health}
\item 
int \hyperlink{classDoctor_a76dcb7e1308ef8001b7960cb542e3824}{boredom}
\item 
int \hyperlink{classDoctor_a7b59e97eb09eed2ffed797d1174ac47f}{hunger}
\item 
double \hyperlink{classDoctor_ae058c3d6dce31d71ac4e63e3fd653275}{goal\-\_\-x}
\item 
double \hyperlink{classDoctor_aba0c1163551f144834fc0d68c556fac2}{goal\-\_\-y}
\item 
double \hyperlink{classDoctor_a6ea729b1a8fc6d33176d768ef62b0a43}{px}
\item 
double \hyperlink{classDoctor_a04b4b5bddd2b99b6eb4b7b8813eeeebf}{py}
\item 
double \hyperlink{classDoctor_a27377808d49670322af2ce4ec34730f1}{goal\-\_\-angle}
\item 
\hypertarget{classDoctor_a2f7dffac0f8141914640e8f9bee5e7ff}{bool {\bfseries running}}\label{classDoctor_a2f7dffac0f8141914640e8f9bee5e7ff}

\item 
double \hyperlink{classDoctor_ab67e7a3eab1a57a0cfa52d84fe52414d}{cur\-\_\-angle}
\item 
int \hyperlink{classDoctor_a254303eb3ae4982340eb079ea76e942a}{cc} = 1
\item 
int \hyperlink{classDoctor_a9bb025d7f8f843371b1c63414272afe1}{checkpoints} \mbox{[}4\mbox{]}\mbox{[}2\mbox{]}
\begin{DoxyCompactList}\small\item\em Set of checkpoints that the nodes can move to in the map. Gives x position and y position for each co-\/ordinate. \end{DoxyCompactList}\item 
\hypertarget{classDoctor_a0566f795b41ece871b82ed7b63c5a780}{bool {\bfseries is\-\_\-called}}\label{classDoctor_a0566f795b41ece871b82ed7b63c5a780}

\item 
\hypertarget{classDoctor_a31d510c612a7f9d59efbcc8327f7adf3}{std\-::pair$<$ double, bool $>$ {\bfseries goal\-\_\-pair}}\label{classDoctor_a31d510c612a7f9d59efbcc8327f7adf3}

\item 
std\-::pair$<$ double, double $>$ \hyperlink{classDoctor_ac371e75b4dcac584c9f2fa89585fefd7}{ret}
\end{DoxyCompactItemize}
\subsection*{Additional Inherited Members}


\subsection{Detailed Description}
Class for the \hyperlink{classDoctor}{Doctor} nodes. 

\subsection{Member Function Documentation}
\hypertarget{classDoctor_a55fe6c06a3ce07fd9014a03000df43db}{\index{Doctor@{Doctor}!calc\-\_\-goal\-\_\-angle@{calc\-\_\-goal\-\_\-angle}}
\index{calc\-\_\-goal\-\_\-angle@{calc\-\_\-goal\-\_\-angle}!Doctor@{Doctor}}
\subsubsection[{calc\-\_\-goal\-\_\-angle}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::calc\-\_\-goal\-\_\-angle (
\begin{DoxyParamCaption}
\item[{double}]{goal\-\_\-x, }
\item[{double}]{goal\-\_\-y, }
\item[{double}]{cur\-\_\-angle, }
\item[{double}]{px, }
\item[{double}]{py}
\end{DoxyParamCaption}
)}}\label{classDoctor_a55fe6c06a3ce07fd9014a03000df43db}


Given the agent's current angle, this function calculates the angle to the goal. cur\-\_\-angle, goal\-\_\-x, goal\-\_\-y, px, and py are class fields but are also passed as parameters. 


\begin{DoxyParams}{Parameters}
{\em goal\-\_\-x} & The x co-\/ordinate of the goal \\
\hline
{\em goal\-\_\-y} & The y co-\/ordinate of the goal \\
\hline
{\em cur\-\_\-angle} & The agent's current angle, in reference to the co-\/ordinate system \\
\hline
{\em px} & The agent's initial x position \\
\hline
{\em py} & The agent's initial y position \\
\hline
{\em goal\-\_\-angle} & The angle that the robot must rotate to face the goal, in reference to the co-\/ordinate system. \\
\hline
\end{DoxyParams}
\hypertarget{classDoctor_ada60bb6625be46966ff86f7af9d05366}{\index{Doctor@{Doctor}!move@{move}}
\index{move@{move}!Doctor@{Doctor}}
\subsubsection[{move}]{\setlength{\rightskip}{0pt plus 5cm}std\-::pair$<$ double, double $>$ Doctor\-::move (
\begin{DoxyParamCaption}
\item[{double}]{goal\-\_\-x, }
\item[{double}]{goal\-\_\-y, }
\item[{double}]{cur\-\_\-angle, }
\item[{double}]{goal\-\_\-angle, }
\item[{double}]{px, }
\item[{double}]{py}
\end{DoxyParamCaption}
)}}\label{classDoctor_ada60bb6625be46966ff86f7af9d05366}


Keeps the agent moving by changing linear\-\_\-x ad angular\-\_\-z. 


\begin{DoxyParams}{Parameters}
{\em goal\-\_\-x} & The x position of the robot's goal \\
\hline
{\em goal\-\_\-y} & The y position of the robot's goal \\
\hline
{\em cur\-\_\-angle} & The agent's current facing, in reference to the co-\/ordinate system. \\
\hline
{\em goal\-\_\-angle} & The angle that the agent must face in order to reach the goal. \\
\hline
{\em px} & Initial x position \\
\hline
{\em py} & Initial y position \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\-\_\-ret linear\-\_\-x and angular\-\_\-z 
\end{DoxyReturn}
\hypertarget{classDoctor_a958cbab204ba7da1aeb34c33e028dc14}{\index{Doctor@{Doctor}!move\-Path@{move\-Path}}
\index{move\-Path@{move\-Path}!Doctor@{Doctor}}
\subsubsection[{move\-Path}]{\setlength{\rightskip}{0pt plus 5cm}std\-::pair$<$ double, double $>$ Doctor\-::move\-Path (
\begin{DoxyParamCaption}
\item[{int}]{path\mbox{[}$\,$\mbox{]}\mbox{[}2\mbox{]}, }
\item[{int}]{path\-Length}
\end{DoxyParamCaption}
)}}\label{classDoctor_a958cbab204ba7da1aeb34c33e028dc14}


Causes the agent to move until the goal is reached. When the goal is reached, the next checkpoint becomes the goal or if the list of checkpoints is exhausted, the agent returns to its initial position (the first checkpoint) 


\begin{DoxyParams}{Parameters}
{\em path\mbox{[}$\,$\mbox{]}\mbox{[}2\mbox{]}} & An array of checkpoints that forms a path. \\
\hline
{\em path\-Length} & The number of checkpoints in the path (-\/1, as counting starts at 0) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
linear\-\_\-x and angular\-\_\-z 
\end{DoxyReturn}
\hypertarget{classDoctor_af4d24247a3f59b1b3b5258938e019086}{\index{Doctor@{Doctor}!resident\-Status\-Callback@{resident\-Status\-Callback}}
\index{resident\-Status\-Callback@{resident\-Status\-Callback}!Doctor@{Doctor}}
\subsubsection[{resident\-Status\-Callback}]{\setlength{\rightskip}{0pt plus 5cm}void Doctor\-::resident\-Status\-Callback (
\begin{DoxyParamCaption}
\item[{{\bf se306\-\_\-project1\-::\-Resident\-Msg}}]{msg}
\end{DoxyParamCaption}
)}}\label{classDoctor_af4d24247a3f59b1b3b5258938e019086}


Callback function that unpacks and processes resident status messages. \hyperlink{classAssistant}{Assistant} should subscribe to the Resident\-Msg topic in order for this callback to be called. Resident\-Msg is published by the \hyperlink{classResident}{Resident}. 

\begin{DoxyNote}{Note}
Currently this callback processes only resident hunger, controlling the cooking behaviour. More behaviours can be implemented later. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em msg} & A custom Resident\-Msg message that contains information about the resident's current status. \\
\hline
\end{DoxyParams}
\hypertarget{classDoctor_ab0b46ba92bd2069733f304858b7e4495}{\index{Doctor@{Doctor}!Stage\-Laser\-\_\-callback@{Stage\-Laser\-\_\-callback}}
\index{Stage\-Laser\-\_\-callback@{Stage\-Laser\-\_\-callback}!Doctor@{Doctor}}
\subsubsection[{Stage\-Laser\-\_\-callback}]{\setlength{\rightskip}{0pt plus 5cm}void Doctor\-::\-Stage\-Laser\-\_\-callback (
\begin{DoxyParamCaption}
\item[{sensor\-\_\-msgs\-::\-Laser\-Scan}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDoctor_ab0b46ba92bd2069733f304858b7e4495}


Callback function to process laser scan messsages. You can access the range data from msg.\-ranges\mbox{[}i\mbox{]}. i = sample number. 

\begin{DoxyNote}{Note}
Currently blank as it is not in use. Navigation operates through a checkpoint system. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em msg} & Single scan from a planar laser range finder \\
\hline
\end{DoxyParams}


Implements \hyperlink{classAgent_adfe1de8bbeaa7e4a5f7f2ff3e45593e8}{Agent}.

\hypertarget{classDoctor_a92b20f52198c6137d8858152cba77640}{\index{Doctor@{Doctor}!Stage\-Odom\-\_\-callback@{Stage\-Odom\-\_\-callback}}
\index{Stage\-Odom\-\_\-callback@{Stage\-Odom\-\_\-callback}!Doctor@{Doctor}}
\subsubsection[{Stage\-Odom\-\_\-callback}]{\setlength{\rightskip}{0pt plus 5cm}void Doctor\-::\-Stage\-Odom\-\_\-callback (
\begin{DoxyParamCaption}
\item[{nav\-\_\-msgs\-::\-Odometry}]{msg}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classDoctor_a92b20f52198c6137d8858152cba77640}


Updates the \hyperlink{classDoctor}{Doctor}'s x position, y position, and angle to reflect its current pose. 

\begin{DoxyNote}{Note}
Rounding is used to calculate the current angle. This approximation is accounted for by using threshholds when processing angles. 
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em msg} & Odometry message from odom topic \\
\hline
\end{DoxyParams}


Implements \hyperlink{classAgent_a4b1182b9ee5dccaa871d71beef94a7d2}{Agent}.



\subsection{Member Data Documentation}
\hypertarget{classDoctor_a76dcb7e1308ef8001b7960cb542e3824}{\index{Doctor@{Doctor}!boredom@{boredom}}
\index{boredom@{boredom}!Doctor@{Doctor}}
\subsubsection[{boredom}]{\setlength{\rightskip}{0pt plus 5cm}int Doctor\-::boredom\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a76dcb7e1308ef8001b7960cb542e3824}
\hyperlink{classResident}{Resident} boredom \hypertarget{classDoctor_a254303eb3ae4982340eb079ea76e942a}{\index{Doctor@{Doctor}!cc@{cc}}
\index{cc@{cc}!Doctor@{Doctor}}
\subsubsection[{cc}]{\setlength{\rightskip}{0pt plus 5cm}int Doctor\-::cc = 1\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a254303eb3ae4982340eb079ea76e942a}
The index of the checkpoint that the agent is currently aiming for \hypertarget{classDoctor_a9bb025d7f8f843371b1c63414272afe1}{\index{Doctor@{Doctor}!checkpoints@{checkpoints}}
\index{checkpoints@{checkpoints}!Doctor@{Doctor}}
\subsubsection[{checkpoints}]{\setlength{\rightskip}{0pt plus 5cm}int Doctor\-::checkpoints\mbox{[}4\mbox{]}\mbox{[}2\mbox{]}\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a9bb025d7f8f843371b1c63414272afe1}
{\bfseries Initial value\-:}
\begin{DoxyCode}
= \{
            \{10, -7\},
            \{10, 1\},
            \{30, 20\},
            \{30, 25\}
            \}
\end{DoxyCode}


Set of checkpoints that the nodes can move to in the map. Gives x position and y position for each co-\/ordinate. 

\hypertarget{classDoctor_ab67e7a3eab1a57a0cfa52d84fe52414d}{\index{Doctor@{Doctor}!cur\-\_\-angle@{cur\-\_\-angle}}
\index{cur\-\_\-angle@{cur\-\_\-angle}!Doctor@{Doctor}}
\subsubsection[{cur\-\_\-angle}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::cur\-\_\-angle\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_ab67e7a3eab1a57a0cfa52d84fe52414d}
The agent's current facing in reference to the co-\/ordinate system \hypertarget{classDoctor_a27377808d49670322af2ce4ec34730f1}{\index{Doctor@{Doctor}!goal\-\_\-angle@{goal\-\_\-angle}}
\index{goal\-\_\-angle@{goal\-\_\-angle}!Doctor@{Doctor}}
\subsubsection[{goal\-\_\-angle}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::goal\-\_\-angle\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a27377808d49670322af2ce4ec34730f1}
The angle that the agent must face to approach the goal, defined in reference to the co-\/ordinate system \hypertarget{classDoctor_ae058c3d6dce31d71ac4e63e3fd653275}{\index{Doctor@{Doctor}!goal\-\_\-x@{goal\-\_\-x}}
\index{goal\-\_\-x@{goal\-\_\-x}!Doctor@{Doctor}}
\subsubsection[{goal\-\_\-x}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::goal\-\_\-x\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_ae058c3d6dce31d71ac4e63e3fd653275}
The x position of the agent's goal \hypertarget{classDoctor_aba0c1163551f144834fc0d68c556fac2}{\index{Doctor@{Doctor}!goal\-\_\-y@{goal\-\_\-y}}
\index{goal\-\_\-y@{goal\-\_\-y}!Doctor@{Doctor}}
\subsubsection[{goal\-\_\-y}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::goal\-\_\-y\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_aba0c1163551f144834fc0d68c556fac2}
The y position of the agent's goal \hypertarget{classDoctor_adab6ec6a93ee2f58b436a8294120f295}{\index{Doctor@{Doctor}!heal\-Resident@{heal\-Resident}}
\index{heal\-Resident@{heal\-Resident}!Doctor@{Doctor}}
\subsubsection[{heal\-Resident}]{\setlength{\rightskip}{0pt plus 5cm}bool Doctor\-::heal\-Resident\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_adab6ec6a93ee2f58b436a8294120f295}
Indicates whether the \hyperlink{classDoctor}{Doctor} should heal the resident. \hypertarget{classDoctor_ab1814310e306e7a742ffa9c5c6b913ef}{\index{Doctor@{Doctor}!health@{health}}
\index{health@{health}!Doctor@{Doctor}}
\subsubsection[{health}]{\setlength{\rightskip}{0pt plus 5cm}int Doctor\-::health\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_ab1814310e306e7a742ffa9c5c6b913ef}
\hyperlink{classResident}{Resident} health \hypertarget{classDoctor_a7b59e97eb09eed2ffed797d1174ac47f}{\index{Doctor@{Doctor}!hunger@{hunger}}
\index{hunger@{hunger}!Doctor@{Doctor}}
\subsubsection[{hunger}]{\setlength{\rightskip}{0pt plus 5cm}int Doctor\-::hunger\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a7b59e97eb09eed2ffed797d1174ac47f}
\hyperlink{classResident}{Resident} hunger \hypertarget{classDoctor_a6ea729b1a8fc6d33176d768ef62b0a43}{\index{Doctor@{Doctor}!px@{px}}
\index{px@{px}!Doctor@{Doctor}}
\subsubsection[{px}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::px\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a6ea729b1a8fc6d33176d768ef62b0a43}
The agent's initial x position \hypertarget{classDoctor_a04b4b5bddd2b99b6eb4b7b8813eeeebf}{\index{Doctor@{Doctor}!py@{py}}
\index{py@{py}!Doctor@{Doctor}}
\subsubsection[{py}]{\setlength{\rightskip}{0pt plus 5cm}double Doctor\-::py\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_a04b4b5bddd2b99b6eb4b7b8813eeeebf}
The agent's initial y position \hypertarget{classDoctor_ac371e75b4dcac584c9f2fa89585fefd7}{\index{Doctor@{Doctor}!ret@{ret}}
\index{ret@{ret}!Doctor@{Doctor}}
\subsubsection[{ret}]{\setlength{\rightskip}{0pt plus 5cm}std\-::pair$<$double, double$>$ Doctor\-::ret\hspace{0.3cm}{\ttfamily [protected]}}}\label{classDoctor_ac371e75b4dcac584c9f2fa89585fefd7}
linear\-\_\-x and angular\-\_\-z for the robot 

The documentation for this class was generated from the following files\-:\begin{DoxyCompactItemize}
\item 
se306\-\_\-project1/src/Doctor.\-h\item 
se306\-\_\-project1/src/Doctor.\-cpp\end{DoxyCompactItemize}
